{% extends 'base.html' %}

{% block title %}API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è{% endblock %}

{% block content %}
<h1 class="mb-4">API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h1>

<p>–≠—Ç–æ REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–∑—ã–≤—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ JavaScript.</p>

<h3 class="mt-5">üìã –°–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤</h3>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>–ú–µ—Ç–æ–¥</th>
      <th>–ú–∞—Ä—à—Ä—É—Ç</th>
      <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GET</td>
      <td><code>/api/reviews</code></td>
      <td>–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç–∑—ã–≤–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON</td>
    </tr>
    <tr>
      <td>POST</td>
      <td><code>/api/applications</code></td>
      <td>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É (–æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ JSON)</td>
    </tr>
    <tr>
      <td>GET</td>
      <td><code>/api/applications?key=... </code></td>
      <td>–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π)</td>
    </tr>
  </tbody>
</table>

<h3 class="mt-4">üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
<p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä <code>?key=123456789</code></p>

<pre><code>
POST /api/applications?key=123456789
</code></pre>

<h3 class="mt-4">üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫</h3>
<p>–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫:</p>
<pre><code>Authorization: Bearer supersecrettoken123</code></pre>
<p>–ë–µ–∑ –Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—ë—Ç 403 Forbidden</p>


<h3 class="mt-5">üì§ –ü—Ä–∏–º–µ—Ä POST-–∑–∞–ø—Ä–æ—Å–∞</h3>

<pre><code class="language-json">
POST /api/applications
Content-Type: application/json

{
  "name": "–ê–ª–µ–∫—Å–µ–π",
  "email": "alex@example.com",
  "subject": "–§–∏–∑–∏–∫–∞",
  "message": "–•–æ—á—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –ï–ì–≠"
}
</code></pre>

<h3 class="mt-4">üì• –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞</h3>

<pre><code class="language-json">
{
  "status": "ok",
  "message": "–ó–∞—è–≤–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞"
}
</code></pre>

<h3 class="mt-4">üìÑ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –æ—Ç /api/applications</h3>
<pre><code class="language-json">
[
  {
    "id": 1,
    "name": "–ê–ª–µ–∫—Å–µ–π",
    "email": "alex@example.com",
    "subject": "–§–∏–∑–∏–∫–∞",
    "message": "–ó–∞–ø–∏—Å—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ",
    "preferred_date": "2025-04-22",
    "preferred_time": "14:00",
    "created": "2025-04-21 19:40"
  }
]
</code></pre>

<h3 class="mt-4">üîç –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è fetch</h3>

<pre><code class="language-js">
fetch("/api/applications", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    name: "–ê–ª–µ–∫—Å–µ–π",
    email: "alex@example.com",
    subject: "–§–∏–∑–∏–∫–∞",
    message: "–•–æ—á—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –ï–ì–≠"
  })
})
.then(res => res.json())
.then(data => console.log(data));
</code></pre>

{% endblock %}
