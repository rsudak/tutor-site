{% extends 'base.html' %}

{% block title %}Панель администратора{% endblock %}

{% block content %}
<h1 class="mb-4">Панель администратора</h1>

<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 mb-5">

  <div class="col">
    <div class="card h-100 text-center p-4 shadow-sm">
      <i class="bi bi-inbox-fill display-4 text-primary mb-2"></i>
      <h5>Заявки учеников</h5>
      <a href="/admin/applications" class="btn btn-outline-primary mt-2">Перейти</a>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 text-center p-4 shadow-sm">
      <i class="bi bi-chat-dots-fill display-4 text-success mb-2"></i>
      <h5>Отзывы</h5>
      <a href="/admin/reviews" class="btn btn-outline-success mt-2">Перейти</a>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 text-center p-4 shadow-sm">
      <i class="bi bi-door-open-fill display-4 text-danger mb-2"></i>
      <h5>Выход</h5>
      <a href="/logout" class="btn btn-outline-danger mt-2">Выйти</a>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 text-center p-4 shadow-sm">
      <i class="bi bi-bar-chart-fill display-4 text-info mb-2"></i>
      <h5>Статистика</h5>
      <a href="/admin/stats" class="btn btn-outline-info mt-2">Перейти</a>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 text-center p-4 shadow-sm">
      <i class="bi bi-calendar-check display-4 text-warning mb-2"></i>
      <h5>Моё расписание</h5>
      <a href="/admin/schedule" class="btn btn-outline-warning mt-2">Открыть</a>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 text-center p-4 shadow-sm">
      <i class="bi bi-x-circle display-4 text-danger mb-2"></i>
      <h5>История отмен</h5>
      <a href="/admin/cancelled" class="btn btn-outline-danger mt-2">Просмотреть</a>
    </div>
  </div>

  <div class="col">
    <div class="card h-100 text-center p-4 shadow-sm">
      <i class="bi bi-lock-fill display-4 text-secondary mb-2"></i>
      <h5>Закрытые слоты</h5>
      <a href="/admin/blocked" class="btn btn-outline-secondary mt-2">Управлять</a>
    </div>
  </div>

</div>

<h2 class="mt-5 mb-3">Чаты с учениками</h2>

{% if students %}
  <div class="list-group">
    {% for student in students %}
      <div class="list-group-item d-flex justify-content-between align-items-center">
        <span>{{ student.name }} ({{ student.email }})</span>
        <a href="/admin/messages/{{ student.id }}" class="btn btn-sm btn-outline-primary">Открыть чат</a>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p class="text-muted">Нет зарегистрированных учеников.</p>
{% endif %}

{% endblock %}
