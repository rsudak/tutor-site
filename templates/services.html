{% extends 'base.html' %}

{% block title %}–£—Å–ª—É–≥–∏{% endblock %}

{% block content %}
<h1 class="mb-4">–ú–æ–∏ —É—Å–ª—É–≥–∏</h1>
<ul class="list-group mb-5">
    <li class="list-group-item">üìò –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ï–ì–≠ –∏ –û–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ, —Ñ–∏–∑–∏–∫–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ</li>
    <li class="list-group-item">üíª –û–Ω–ª–∞–π–Ω-–∑–∞–Ω—è—Ç–∏—è —á–µ—Ä–µ–∑ Zoom</li>
    <li class="list-group-item">üë®‚Äçüè´ –û—á–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –≤ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–µ</li>
    <li class="list-group-item">üìÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –≥–∏–±–∫–∏–π –ø–æ–¥—Ö–æ–¥</li>
</ul>

<hr class="my-5">

<h3 class="mb-3"><i class="bi bi-calculator text-primary"></i> –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–Ω—è—Ç–∏–π</h3>

<form id="calc-form" class="row g-3 mb-4">
  <div class="col-md-4">
    <label for="subject" class="form-label">–ü—Ä–µ–¥–º–µ—Ç</label>
    <select id="subject" class="form-select" required>
      <option value="math">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
      <option value="physics">–§–∏–∑–∏–∫–∞</option>
      <option value="informatics">–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</option>
    </select>
  </div>

  <div class="col-md-4">
    <label for="format" class="form-label">–§–æ—Ä–º–∞—Ç –∑–∞–Ω—è—Ç–∏–π</label>
    <select id="format" class="form-select" required>
      <option value="online">–û–Ω–ª–∞–π–Ω</option>
      <option value="offline">–û—á–Ω–æ</option>
    </select>
  </div>

  <div class="col-md-4">
    <label for="duration" class="form-label">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏—è</label>
    <select id="duration" class="form-select" required>
      <option value="60">60 –º–∏–Ω—É—Ç</option>
      <option value="90">90 –º–∏–Ω—É—Ç</option>
    </select>
  </div>

  <div class="col-md-4">
    <label for="frequency" class="form-label">–ó–∞–Ω—è—Ç–∏–π –≤ –Ω–µ–¥–µ–ª—é</label>
    <input type="number" id="frequency" class="form-control" min="1" max="7" value="2" required>
  </div>

  <div class="col-md-8 d-flex align-items-end">
    <button type="submit" class="btn btn-primary w-100">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
  </div>
</form>

<div id="calc-result" class="alert alert-info d-none"></div>

<script>
  document.getElementById('calc-form').addEventListener('submit', function(event) {
    event.preventDefault();

    const subject = document.getElementById('subject').value;
    const format = document.getElementById('format').value;
    const duration = parseInt(document.getElementById('duration').value);
    const frequency = parseInt(document.getElementById('frequency').value);

    let basePrices = {
      math: { online: 1000, offline: 1200 },
      physics: { online: 1100, offline: 1300 },
      informatics: { online: 1200, offline: 1400 }
    };

    let basePrice = basePrices[subject][format];

    if (duration === 90) {
      basePrice = Math.round(basePrice * 1.5);
    }

    const weekly = basePrice * frequency;
    const monthly = weekly * 4;

    const resultText = `
      <strong>–¶–µ–Ω–∞ –∑–∞ –æ–¥–Ω–æ –∑–∞–Ω—è—Ç–∏–µ:</strong> ${basePrice} ‚ÇΩ<br>
      <strong>–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –º–µ—Å—è—Ü:</strong> ${monthly} ‚ÇΩ (–ø—Ä–∏ ${frequency} –∑–∞–Ω—è—Ç–∏—è—Ö –≤ –Ω–µ–¥–µ–ª—é)
    `;

    const resultDiv = document.getElementById('calc-result');
    resultDiv.innerHTML = resultText;
    resultDiv.classList.remove('d-none');
  });
</script>
{% endblock %}

